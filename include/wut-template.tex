
% !TeX TS-program = pdflatexmk
% !BIB TS-program = biber

%-----------------------------------------------
%  Engineer's & Master's Thesis Template
%  Copyleft by Artur M. Brodzki & Piotr Woźniak
%  Warsaw University of Technology, 2019-2021
%-----------------------------------------------


\documentclass[
    bindingoffset=5mm,  % Binding offset
    footnoteindent=3mm, % Footnote indent
    hyphenation=true,   % Hyphenation turn on/off
    baseclass=article
]{include/wut-thesis}


$for(header-includes)$
$header-includes$
$endfor$

$if(parindent)$
    \setlength\parindent{0.5cm}
    \setlength\parskip{0pt}
$else$
    \setlength\parindent{0pt}
    \setlength\parskip{4pt}
$endif$

%-------------------------------------------------------------
% Wybór wydziału:
%  \facultyeiti: Wydział Elektroniki i Technik Informacyjnych
%  \facultymeil: Wydział Mechaniczny Energetyki i Lotnictwa
% --
% Rodzaj pracy: \EngineerThesis, \MasterThesis
% --
% Wybór języka: \langpol, \langeng
%-------------------------------------------------------------
\faculty$faculty$    % Wydział Elektroniki i Technik Informacyjnych
\newcommand{\langen}{\langeng}
\newcommand{\langpl}{\langpol}
\newcommand{\titlepl}{$title-pl$}
\newcommand{\titleen}{$title-en$}
\newcommand{\maintitle}{\title$lang$}

\newcommand{\keywordspl}{$keywords-pl$}
\newcommand{\keywordsen}{$keywords-en$}

\newcommand{\engineerthesis}{\EngineerThesis}
\newcommand{\masterthesis}{\MasterThesis}
$if(thesistype)$
\$thesistype$thesis
$else$
\engineerthesis
$endif$
$if(lang)$
    \lang$lang$
$else$
    \langpol % Praca w języku polskim
$endif$
\usepackage{float}
\usepackage{xcolor}
$if(fontfamily)$
$else$
\usepackage[default]{sourcesanspro}
\usepackage{sourcecodepro}
$endif$

$if(strikeout)$
\usepackage[normalem]{ulem}
% Avoid problems with \sout in headers with hyperref
\pdfstringdefDisableCommands{\renewcommand{\sout}{}}
$endif$
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

$if(fontfamily)$
\usepackage[$for(fontfamilyoptions)$$fontfamilyoptions$$sep$,$endfor$]{$fontfamily$}
$else$
\usepackage{lmodern}
$endif$
$if(mainfont)$
  \setmainfont[$for(mainfontoptions)$$mainfontoptions$$sep$,$endfor$]{$mainfont$}
$endif$
$if(sansfont)$
  \setsansfont[$for(sansfontoptions)$$sansfontoptions$$sep$,$endfor$]{$sansfont$}
$endif$
$if(monofont)$
  \setmonofont[$for(monofontoptions)$$monofontoptions$$sep$,$endfor$]{$monofont$}
$endif$
$for(fontfamilies)$
  \newfontfamily{$fontfamilies.name$}[$for(fontfamilies.options)$$fontfamilies.options$$sep$,$endfor$]{$fontfamilies.font$}
$endfor$

\definecolor{blockquote-border}{HTML}{$if(blockquotebordercolor)$$blockquotebordercolor$$else$C8C8DD$endif$}
\definecolor{blockquote-text}{HTML}{$if(blockquotetextcolor)$$blockquotetextcolor$$else$777777$endif$}
\definecolor{default-linkcolor}{HTML}{$if(linkcolor)$$linkcolor$$else$000000$endif$}
\definecolor{default-filecolor}{HTML}{$if(filecolor)$$filecolor$$else$000000$endif$}
\definecolor{default-citecolor}{HTML}{$if(citecolor)$$citecolor$$else$000000$endif$}
\definecolor{default-urlcolor}{HTML}{$if(urlcolor)$$urlcolor$$else$000000$endif$}
\usepackage{mdframed}
\newmdenv[rightline=false,bottomline=false,topline=false,linewidth=3pt,linecolor=blockquote-border,skipabove=\parskip]{customblockquote}
\renewenvironment{quote}{\begin{customblockquote}\list{}{\rightmargin=0em\leftmargin=0em}%
\item\relax\color{blockquote-text}\ignorespaces}{\unskip\unskip\endlist\end{customblockquote}}

$if(lhs)$
%\lstnewenvironment{code}{\lstset{language=Haskell,basicstyle=\small\ttfamily}}{}
$endif$
$if(highlighting-macros)$
$highlighting-macros$
%\usepackage{fvextra}


\DefineVerbatimEnvironment{Verbatim}{Highlighting}{breaklines,fontsize=$if(code-block-font-size)$$code-block-font-size$$else$\small$endif$,commandchars=\\\{\}}

$endif$
\usepackage{graphicx}
\usepackage[backend=biber]{biblatex}

$if(csl-refs)$
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newenvironment{cslreferences}%
  {$if(csl-hanging-indent)$\setlength{\parindent}{0pt}%
  \everypar{\setlength{\hangindent}{\cslhangindent}}\ignorespaces$endif$}%
  {\par}
$endif$

$if(links-as-notes)$
% Make links footnotes instead of hotlinks:
\DeclareRobustCommand{\href}[2]{#2\footnote{\url{#1}}}
$endif$
$if(strikeout)$
\usepackage[normalem]{ulem}
% Avoid problems with \sout in headers with hyperref
\pdfstringdefDisableCommands{\renewcommand{\sout}{}}
$endif$

% Change list style
\usepackage{enumitem}
\usepackage{amsfonts}
\setlist[itemize,1]{leftmargin=\leftmargin,label=$$\bullet$$, topsep=0pt}
\setlist[itemize,2]{label=$$\circ$$}
\setlist[itemize,3]{label=$$\diamond$$}
$for(bibliography)$
\addbibresource{$bibliography$}
$endfor$

% Redefine \includegraphics so that, unless explicit options are
% given, the image width will not exceed the width or the height of the page.
% Images get their normal width if they fit onto the page, but
% are scaled down if they would overflow the margins.
\makeatletter
\def\ScaleWidthIfNeeded{%
 \ifdim\Gin@nat@width>\linewidth
    0.9\linewidth
  \else
    \Gin@nat@width
  \fi
}
\def\ScaleHeightIfNeeded{%
  \ifdim\Gin@nat@height>0.9\textheight
    0.9\textheight
  \else
    \Gin@nat@width
  \fi
}
\makeatother


% Document metadata
\hypersetup{
  pdftitle={\maintitle},
  pdfauthor={$author$},
  pdflang={$lang$},
  colorlinks=true,
  linkcolor={default-linkcolor},
  filecolor={default-filecolor},
  citecolor={default-citecolor},
  urlcolor={default-urlcolor},
  pdfcreator={LaTeX via pandoc using github.com/mRokita/wut-thesis-pandoc},
  pdfkeywords={\keywords$lang$}
}

$for(include-before)$
$include-before$
$endfor$

\begin{document}

%------------------
% Strona tytułowa
%------------------
\instytut{$institute$}
\kierunek{$subject$}
\specjalnosc{$specialty$}
\title{
    \maintitle
}
% Tytuł po angielsku do angielskiego streszczenia
% In english theses, you may remove this command
\engtitle{
    $title-en$
}
\author{$author$}
\album{$album$}
\promotor{$promotor$}
\date{\the\year}
\maketitle

%-------------------------
% Streszczenie po polsku
%-------------------------
\cleardoublepage % Zaczynamy od nieparzystej strony
\streszczenie $abstract-pl$
\slowakluczowe $keywords-pl$

%----------------------------
% Streszczenie po angielsku
%----------------------------
\clearpage
\abstract $abstract-en$
\keywords $keywords-en$

%----------------------------
% Oświadczenie o autorstwie
%----------------------------
\cleardoublepage % Zaczynamy od nieparzystej strony
\pagestyle{plain}
\makeauthorship

%--------------
% Spis treści
%--------------
\cleardoublepage % Zaczynamy od nieparzystej strony
\tableofcontents

%------------
% Rozdziały
%------------
\cleardoublepage % Zaczynamy od nieparzystej strony
\pagestyle{headings}

 % Można też pisać rozdziały w jednym pliku.
\clearpage % Zawsze zaczynamy rozdział od nowej strony

\floatplacement{figure}{H}

\setkeys{Gin}{width=\ScaleWidthIfNeeded,height=\ScaleHeightIfNeeded,keepaspectratio}%

$body$

%---------------
% Bibliografia
%---------------

\cleardoublepage % Zaczynamy od nieparzystej strony

\nocite{$if(nocite)$$nocite$$else$*$endif$}
\printbibliography

%--------------------------------------
% Spisy: rysunków, tabel, załączników
%--------------------------------------
\clearpage
\pagestyle{plain}

\listoffigurestoc    % Spis rysunków.
\vspace{1cm}         % vertical space

\listoftablestoc     % Spis tabel.
\vspace{1cm}         % vertical space

$if(enableappendices)$
\listofappendicestoc % Spis załączników
$endif$
% Wykaz symboli i skrótów.
% Pamiętaj, żeby posortować symbole alfabetycznie
% we własnym zakresie. Makro \acronymlist
% generuje właściwy tytuł sekcji, w zależności od języka.
% Makro \acronym dodaje skrót/symbol do listy,
% zapewniając podstawowe formatowanie.
\vspace{0.8cm}
\acronymlist
${ for(acronyms) }
\acronym{${ it.acronym }}{${ it.expansion }}
${ endfor }
%-------------
% Załączniki
%-------------

% Obrazki i tabele w załącznikach nie trafiają do spisów
\captionsetup[figure]{list=no}
\captionsetup[table]{list=no}

% Używając powyższych spisów jako szablonu,
% możesz dodać również swój własny wykaz,
% np. spis algorytmów.
$for(include-after)$
$include-after$

$endfor$
\end{document} % Dobranoc.
